{"ast":null,"code":"var _jsxFileName = \"/home/bruna/Documentos/portfolio/projeto/trybetunes/src/pages/Login.js\";\nimport React from 'react';\nimport { Redirect } from 'react-router-dom';\nimport Loading from '../components/Loading';\nimport { createUser } from '../services/userAPI';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass Login extends React.Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      loginName: '',\n      isSaveButtonDisabled: true,\n      loading: false,\n      direct: false\n    };\n    this.onInputChange = _ref => {\n      let {\n        target\n      } = _ref;\n      const {\n        value\n      } = target;\n      const minName = 2;\n      this.setState({\n        loginName: value\n      }, () => {\n        if (value.length > minName) {\n          this.setState({\n            isSaveButtonDisabled: false\n          });\n        } else {\n          this.setState({\n            isSaveButtonDisabled: true\n          });\n        }\n      });\n    };\n    this.onSaveButtonClick = async () => {\n      const {\n        loginName\n      } = this.state;\n      this.setState({\n        loading: true\n      });\n      await createUser({\n        name: loginName\n      });\n      this.setState({\n        direct: true\n      });\n    };\n  }\n  render() {\n    const {\n      loading,\n      loginName,\n      isSaveButtonDisabled,\n      direct\n    } = this.state;\n    if (direct) return /*#__PURE__*/_jsxDEV(Redirect, {\n      to: \"/search\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 24\n    }, this);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      \"data-testid\": \"page-login\",\n      className: \"page-login\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"form-login\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"input-name\",\n          type: \"text\",\n          onChange: this.onInputChange,\n          value: loginName,\n          placeholder: \"qual \\xE9 seu nome?\",\n          \"data-testid\": \"login-name-input\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 11\n        }, this), loading && /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          disabled: isSaveButtonDisabled,\n          onClick: this.onSaveButtonClick,\n          \"data-testid\": \"login-submit-button\",\n          className: \"button-login\",\n          children: \"Entrar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }, this);\n  }\n}\nexport default Login;","map":{"version":3,"names":["React","Redirect","Loading","createUser","Login","Component","state","loginName","isSaveButtonDisabled","loading","direct","onInputChange","target","value","minName","setState","length","onSaveButtonClick","name","render"],"sources":["/home/bruna/Documentos/portfolio/projeto/trybetunes/src/pages/Login.js"],"sourcesContent":["import React from 'react';\nimport { Redirect } from 'react-router-dom';\nimport Loading from '../components/Loading';\nimport { createUser } from '../services/userAPI';\n\nclass Login extends React.Component {\n  state = {\n    loginName: '',\n    isSaveButtonDisabled: true,\n    loading: false,\n    direct: false,\n  };\n\n  onInputChange = ({ target }) => {\n    const { value } = target;\n    const minName = 2;\n    this.setState({ loginName: value }, () => {\n      if (value.length > minName) {\n        this.setState({\n          isSaveButtonDisabled: false,\n        });\n      } else {\n        this.setState({\n          isSaveButtonDisabled: true,\n        });\n      }\n    });\n  };\n\n  onSaveButtonClick = async () => {\n    const { loginName } = this.state;\n    this.setState({ loading: true });\n    await createUser({ name: loginName });\n    this.setState({ direct: true });\n  };\n\n  render() {\n    const { loading, loginName, isSaveButtonDisabled, direct } = this.state;\n    if (direct) return <Redirect to=\"/search\" />;\n    return (\n      <div data-testid=\"page-login\" className=\"page-login\">\n        <form className=\"form-login\">\n          <input\n            className=\"input-name\"\n            type=\"text\"\n            onChange={ this.onInputChange }\n            value={ loginName }\n            placeholder=\"qual Ã© seu nome?\"\n            data-testid=\"login-name-input\"\n          />\n          {(loading) && <Loading />}\n          <button\n            type=\"button\"\n            disabled={ isSaveButtonDisabled }\n            onClick={ this.onSaveButtonClick }\n            data-testid=\"login-submit-button\"\n            className=\"button-login\"\n          >\n            Entrar\n          </button>\n        </form>\n      </div>\n    );\n  }\n}\n\nexport default Login;\n"],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,QAAQ,QAAQ,kBAAkB;AAC3C,OAAOC,OAAO,MAAM,uBAAuB;AAC3C,SAASC,UAAU,QAAQ,qBAAqB;AAAC;AAEjD,MAAMC,KAAK,SAASJ,KAAK,CAACK,SAAS,CAAC;EAAA;IAAA;IAAA,KAClCC,KAAK,GAAG;MACNC,SAAS,EAAE,EAAE;MACbC,oBAAoB,EAAE,IAAI;MAC1BC,OAAO,EAAE,KAAK;MACdC,MAAM,EAAE;IACV,CAAC;IAAA,KAEDC,aAAa,GAAG,QAAgB;MAAA,IAAf;QAAEC;MAAO,CAAC;MACzB,MAAM;QAAEC;MAAM,CAAC,GAAGD,MAAM;MACxB,MAAME,OAAO,GAAG,CAAC;MACjB,IAAI,CAACC,QAAQ,CAAC;QAAER,SAAS,EAAEM;MAAM,CAAC,EAAE,MAAM;QACxC,IAAIA,KAAK,CAACG,MAAM,GAAGF,OAAO,EAAE;UAC1B,IAAI,CAACC,QAAQ,CAAC;YACZP,oBAAoB,EAAE;UACxB,CAAC,CAAC;QACJ,CAAC,MAAM;UACL,IAAI,CAACO,QAAQ,CAAC;YACZP,oBAAoB,EAAE;UACxB,CAAC,CAAC;QACJ;MACF,CAAC,CAAC;IACJ,CAAC;IAAA,KAEDS,iBAAiB,GAAG,YAAY;MAC9B,MAAM;QAAEV;MAAU,CAAC,GAAG,IAAI,CAACD,KAAK;MAChC,IAAI,CAACS,QAAQ,CAAC;QAAEN,OAAO,EAAE;MAAK,CAAC,CAAC;MAChC,MAAMN,UAAU,CAAC;QAAEe,IAAI,EAAEX;MAAU,CAAC,CAAC;MACrC,IAAI,CAACQ,QAAQ,CAAC;QAAEL,MAAM,EAAE;MAAK,CAAC,CAAC;IACjC,CAAC;EAAA;EAEDS,MAAM,GAAG;IACP,MAAM;MAAEV,OAAO;MAAEF,SAAS;MAAEC,oBAAoB;MAAEE;IAAO,CAAC,GAAG,IAAI,CAACJ,KAAK;IACvE,IAAII,MAAM,EAAE,oBAAO,QAAC,QAAQ;MAAC,EAAE,EAAC;IAAS;MAAA;MAAA;MAAA;IAAA,QAAG;IAC5C,oBACE;MAAK,eAAY,YAAY;MAAC,SAAS,EAAC,YAAY;MAAA,uBAClD;QAAM,SAAS,EAAC,YAAY;QAAA,wBAC1B;UACE,SAAS,EAAC,YAAY;UACtB,IAAI,EAAC,MAAM;UACX,QAAQ,EAAG,IAAI,CAACC,aAAe;UAC/B,KAAK,EAAGJ,SAAW;UACnB,WAAW,EAAC,qBAAkB;UAC9B,eAAY;QAAkB;UAAA;UAAA;UAAA;QAAA,QAC9B,EACAE,OAAO,iBAAK,QAAC,OAAO;UAAA;UAAA;UAAA;QAAA,QAAG,eACzB;UACE,IAAI,EAAC,QAAQ;UACb,QAAQ,EAAGD,oBAAsB;UACjC,OAAO,EAAG,IAAI,CAACS,iBAAmB;UAClC,eAAY,qBAAqB;UACjC,SAAS,EAAC,cAAc;UAAA,UACzB;QAED;UAAA;UAAA;UAAA;QAAA,QAAS;MAAA;QAAA;QAAA;QAAA;MAAA;IACJ;MAAA;MAAA;MAAA;IAAA,QACH;EAEV;AACF;AAEA,eAAeb,KAAK"},"metadata":{},"sourceType":"module","externalDependencies":[]}